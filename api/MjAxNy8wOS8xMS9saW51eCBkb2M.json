{"title":"linux doc","date":"2017-09-10T16:00:00.000Z","link":"2017/09/11/linux doc","tags":["Linux","docs"],"categories":["Linux"],"updated":"2019-10-25T07:33:51.097Z","content":"<h3 id=\"所常用命令\">所常用命令<a href=\"2017/09/11/linux doc#所常用命令\"></a></h3><h4 id=\"查看进程和杀死\">查看进程和杀死<a href=\"2017/09/11/linux doc#查看进程和杀死\"></a></h4><figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ps -A | grep name</span><br><span class=\"line\"><span class=\"built_in\">kill</span> -9 number</span><br></pre></td></tr></table></div></figure>\n<h4 id=\"py2和py3和pip2和pip3\">py2和py3和pip2和pip3<a href=\"2017/09/11/linux doc#py2和py3和pip2和pip3\"></a></h4><p>在py2和py3 pip2 and pip3之间自由切换主要是软连接的切换</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install python3-pip  # 下载pip</span><br><span class=\"line\">whereis python</span><br><span class=\"line\">ls -l /usr/bin | grep python</span><br><span class=\"line\">mv /usr/bin/python /usr/bin/python.bak</span><br><span class=\"line\">ln -s /usr/local/bin/python3 /usr/bin/python</span><br></pre></td></tr></table></div></figure>\n\n<p><code>卸载软件包</code></p>\n<div class=\"article-bounded\"><div class=\"article-table\"><table>\n<thead>\n<tr>\n<th>命令</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>sudo apt-get autoremove [packagename]</td>\n<td>自动删除</td>\n</tr>\n<tr>\n<td>sudo apt-get remove [package]</td>\n<td>删除</td>\n</tr>\n<tr>\n<td>sudo apt-get remove package –purge</td>\n<td>包括配置文件</td>\n</tr>\n<tr>\n<td>sudo apt-cache depends package</td>\n<td>该包依赖那些包</td>\n</tr>\n<tr>\n<td>sudo apt-cache rdepends package</td>\n<td>该包被哪些包依赖</td>\n</tr>\n<tr>\n<td>sudo apt-get clean</td>\n<td>清理吴用的包</td>\n</tr>\n<tr>\n<td>sudo apt-get autoclean</td>\n<td>自动清理</td>\n</tr>\n</tbody></table></div></div>\n<p><code>更换pip的源</code></p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir ~/.pip</span><br><span class=\"line\">vim ~/.pip/pip.conf</span><br></pre></td></tr></table></div></figure>\n<p>输入内容, 地址为国内的一些源，可以更换</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[global]</span><br><span class=\"line\">index-url = https://mirrors.aliyun.com/pypi/simple</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">清华：https://pypi.tuna.tsinghua.edu.cn/simple</span><br><span class=\"line\">中国科技大学 https://pypi.mirrors.ustc.edu.cn/simple/</span><br><span class=\"line\">华中理工大学：http://pypi.hustunique.com/</span><br><span class=\"line\">山东理工大学：http://pypi.sdutlinux.org/</span><br><span class=\"line\">豆瓣：http://pypi.douban.com/simple/</span><br></pre></td></tr></table></div></figure>\n<h3 id=\"报错\">报错<a href=\"2017/09/11/linux doc#报错\"></a></h3><figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Could not install packages due to an EnvironmentError: [Errno 13] 权限不够: &apos;/usr/local/lib/python3.7/dist-packages/wheel-0.33.4.dist-info&apos;</span><br><span class=\"line\">Consider using the `--user` option or check the permissions.</span><br></pre></td></tr></table></div></figure>\n<p>需要在最后加上 <code>--user</code></p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip install tensorflow --user</span><br></pre></td></tr></table></div></figure>\n<h3 id=\"快捷键\">快捷键<a href=\"2017/09/11/linux doc#快捷键\"></a></h3><p><code>ctrl +shift -</code>, <code>ctrl -</code> 终端窗口的缩放</p>\n<h3 id=\"ls\">ls<a href=\"2017/09/11/linux doc#ls\"></a></h3><figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ls -a 显示所有信息</span><br><span class=\"line\">ls -l 列表</span><br><span class=\"line\">ls -h 默认状态</span><br></pre></td></tr></table></div></figure>\n<p>ls的通配</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ls te* 显示以te开头的</span><br><span class=\"line\">ls *html 以html结束的文件</span><br><span class=\"line\">ls ?.c 只找第一个字符任意，后缀为.c的文件</span><br></pre></td></tr></table></div></figure>\n<h3 id=\"rm\">rm<a href=\"2017/09/11/linux doc#rm\"></a></h3><figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rm -i 删除前询问</span><br><span class=\"line\">rm -f 强制删除</span><br><span class=\"line\">rm -r 递归删除删除文件夹</span><br></pre></td></tr></table></div></figure>\n<h3 id=\"cp\">cp<a href=\"2017/09/11/linux doc#cp\"></a></h3><figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">cp -a 保留文件原有属性</span><br><span class=\"line\">cp -f 若有重复不提示</span><br><span class=\"line\">cp -i 若有重复请求用户确认</span><br><span class=\"line\">cp -r 递归复制，复制文件夹</span><br><span class=\"line\">cp -v view</span><br></pre></td></tr></table></div></figure>\n<h3 id=\"scp\">scp<a href=\"2017/09/11/linux doc#scp\"></a></h3><pre><code>从服务器拷贝</code></pre><figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scp -r /etc root@public_ip:/opt # 将本地的etc 拷到 服务器去</span><br><span class=\"line\">scp root@public_ip:/home/ixdba/etc.tar.gz /tmp</span><br></pre></td></tr></table></div></figure>\n<h3 id=\"重定向\">重定向<a href=\"2017/09/11/linux doc#重定向\"></a></h3><figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ls &gt; test.txt ls的输出会存储在test.txt中</span><br></pre></td></tr></table></div></figure>\n<h3 id=\"管道\">管道<a href=\"2017/09/11/linux doc#管道\"></a></h3><p>一个命令的输出是另一个命令的输入</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ls -lh | more</span><br></pre></td></tr></table></div></figure>\n<h3 id=\"ln\">ln<a href=\"2017/09/11/linux doc#ln\"></a></h3><p><code>默认</code> 是硬链接</p>\n<p><code>软链接</code>:源文件失效也失效</p>\n<p><code>硬链接</code>:只能链接普通文件</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">硬链接：ln 源文件 链接文件</span><br><span class=\"line\">软链接：ln -s 源文件 链接文件</span><br></pre></td></tr></table></div></figure>\n<h3 id=\"grep\">grep<a href=\"2017/09/11/linux doc#grep\"></a></h3><p><code>匹配</code></p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">grep -[] &apos;target&apos; filename.txt</span><br><span class=\"line\"></span><br><span class=\"line\">-V 取反</span><br><span class=\"line\">-n 显示行号</span><br><span class=\"line\">-i 不区分大小写</span><br><span class=\"line\">example:</span><br><span class=\"line\">   grep -in &apos;target&apos; filename.txt</span><br></pre></td></tr></table></div></figure>\n<h3 id=\"grep-的正则式\">grep 的正则式<a href=\"2017/09/11/linux doc#grep-的正则式\"></a></h3><figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">搜索每一行的</span><br><span class=\"line\">^a: 以a开头的 grep -n &apos;^a&apos; filename.txt</span><br><span class=\"line\">$: 以某一字符结尾的 grep -n &apos;$et&apos; filename.txt</span><br><span class=\"line\">[]搜索某个单词，：grep -n &apos;[tT]est&apos; filename.txt</span><br><span class=\"line\">.:点匹配：grep -n &apos;t..t&apos; filename.txt(.是占位)</span><br></pre></td></tr></table></div></figure>\n<h3 id=\"find\">find<a href=\"2017/09/11/linux doc#find\"></a></h3><figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># find name is ww.txt in ./ file</span><br><span class=\"line\">find ./ -name ww.txt    </span><br><span class=\"line\"># find name end is .sh in ./ file</span><br><span class=\"line\">find ./ -name &apos;*.sh&apos;</span><br><span class=\"line\"># find start with A - Z</span><br><span class=\"line\">find ./ -name &apos;[A-Z]*&apos;</span><br><span class=\"line\">finde /tmp -size +-size</span><br><span class=\"line\">finde /tmp -size +size -size -2m</span><br><span class=\"line\">#查找权限为777的文件</span><br><span class=\"line\">find /tmp -perm 777</span><br></pre></td></tr></table></div></figure>\n<h3 id=\"tar\">tar<a href=\"2017/09/11/linux doc#tar\"></a></h3><p>打包文件 压缩<code>当前文件</code>的内容</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-c creat</span><br><span class=\"line\">-v view</span><br><span class=\"line\">-f filename</span><br><span class=\"line\">-z zip</span><br><span class=\"line\">-x 解压</span><br><span class=\"line\"># 打包</span><br><span class=\"line\">tar -cvf name.tar *</span><br><span class=\"line\">#打包加压缩 将当前路径的所有的东西压缩到</span><br><span class=\"line\"># name.tar.gz</span><br><span class=\"line\">tar -zcvf name.tar.gz *</span><br><span class=\"line\">#解压到指定路径</span><br><span class=\"line\">-C</span><br><span class=\"line\">tar -zxvf name.tar.gz -C path/</span><br></pre></td></tr></table></div></figure>\n<h3 id=\"gzip\">gzip<a href=\"2017/09/11/linux doc#gzip\"></a></h3><p>没啥雕用 还不如直接用tar 去压缩 而且压缩后的包要比tar的大</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-r 压缩： gzip -r name.tar 生成的是.tar.gz</span><br><span class=\"line\">-d 解压: gzip -d name.tar.gz -&gt; name.tar</span><br></pre></td></tr></table></div></figure>\n<h3 id=\"zip\">zip<a href=\"2017/09/11/linux doc#zip\"></a></h3><figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 压缩</span><br><span class=\"line\">zip name * ： 压缩到name里</span><br><span class=\"line\"></span><br><span class=\"line\"># 解压到当前目录下的test下，没有则创建</span><br><span class=\"line\">unzip -d ./test name.zip</span><br></pre></td></tr></table></div></figure>\n<h3 id=\"which\">which<a href=\"2017/09/11/linux doc#which\"></a></h3><p>显示命令的位置；</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">which pip -&gt; /usr/local/bin/pip</span><br><span class=\"line\">which ls -&gt; /usr/bin/ls</span><br></pre></td></tr></table></div></figure>\n<h3 id=\"权限修改（chmod\">权限修改（chmod)<a href=\"2017/09/11/linux doc#权限修改（chmod\"></a></h3><p>权限修改 字母和数字法<br>字母：</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">u: user</span><br><span class=\"line\">g: group</span><br><span class=\"line\">o: other</span><br><span class=\"line\">a: all</span><br><span class=\"line\">+ - =： 增加 减少 设定</span><br><span class=\"line\">r w x: 读写执行</span><br><span class=\"line\"></span><br><span class=\"line\"># user---group---all--- 权限分布</span><br><span class=\"line\">rwxrw-rw- 1 long long  18 8月   9 15:27 ee.txt</span><br><span class=\"line\">-rw-r--r-- 1 long long 302 8月   9 15:09 name.zip</span><br><span class=\"line\">-rw-r--r-- 1 long long   0 8月   9 14:52 qq.txt</span><br></pre></td></tr></table></div></figure>\n<p>如上的权限比如 <code>ee.txt</code> 文件的权限</p>\n<ul>\n<li><p>user有rwx权限 : 减权限 chmod u-x ee.txt</p>\n</li>\n<li><p>group有rw权限:chmod u=rwx,g-w,a=rw ee.txt</p>\n</li>\n<li><p>all 有 r权限</p>\n<p><code>qq.txt</code>的权限</p>\n</li>\n<li><p>user -&gt; rw : 加权限 chmod u+x qq.txt</p>\n</li>\n<li><p>group -&gt; r: 加权限 chmod g+w qq.txt</p>\n</li>\n<li><p>all -&gt; r : 加权限 chmod a+w qq.txt</p>\n</li>\n</ul>\n<p>数字表示</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">r -&gt; 4</span><br><span class=\"line\">w -&gt; 2</span><br><span class=\"line\">x -&gt; 1</span><br><span class=\"line\">- -&gt; 0</span><br></pre></td></tr></table></div></figure>\n<p><code>chmod 777 file.txt</code> 表示 u g a 的权限数字加起来</p>\n<h3 id=\"修改密码\">修改密码<a href=\"2017/09/11/linux doc#修改密码\"></a></h3><figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">sudo -s             | 进入super user</span><br><span class=\"line\">passwd username     | 修改密码</span><br><span class=\"line\">exit                | 退出root</span><br></pre></td></tr></table></div></figure>\n<h3 id=\"who\">who<a href=\"2017/09/11/linux doc#who\"></a></h3><p>查看用户登陆</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-q    | 用户登陆的数量</span><br></pre></td></tr></table></div></figure>\n<h3 id=\"注销，重启\">注销，重启<a href=\"2017/09/11/linux doc#注销，重启\"></a></h3><figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">reboot              |    重启</span><br><span class=\"line\">shutdown -r now     | 重启，但会给别的用户提示</span><br><span class=\"line\">shutdown -h now     | 关机 现在</span><br><span class=\"line\">shutdown -h 12:00   | 12: 00关机</span><br><span class=\"line\">shutdown -h +10     | 系统再过十分钟关闭</span><br></pre></td></tr></table></div></figure>\n<h3 id=\"SSH\">SSH<a href=\"2017/09/11/linux doc#SSH\"></a></h3><p>SSH为<code>Secure Shell</code>的缩写，由 <code>IETF</code> 的网络工作小组（Network Working Group）所制定；<br>SSH 为建立在应用层和传输层基础上的安全协议。</p>\n<p>SSH是目前较可靠，专为远程登录会话和其他网络服务提供安全性的协议。常用于远程登录，以及用户之间进行资料拷贝。</p>\n<p>利用SSH协议可以有效防止远程管理过程中的信息泄露问题。SSH最初是 UNIX 系统上的一个程序，后来又迅速扩展到其他操作平台。SSH 在正确使用时可弥补网络中的漏洞。SSH 客户端适用于多种平台。几乎所有 UNIX 平台—包括 HP-UX、Linux、AIX、Solaris、Digital UNIX、Irix，以及其他平台，都可运行SSH。</p>\n<p>使用SSH服务，需要安装相应的服务器和客户端。客户端和服务器的关系：如果，A机器想被B机器远程控制，那么，A机器需要安装SSH服务器，B机器需要安装SSH客户端。</p>\n<h3 id=\"vim\">vim<a href=\"2017/09/11/linux doc#vim\"></a></h3><figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">u            | 撤销</span><br><span class=\"line\">ctrl+r       | 反撤销</span><br><span class=\"line\">yy           | 复制</span><br><span class=\"line\">p            | 粘贴</span><br><span class=\"line\">/            | 查找 -&gt;回车后 n N 上下选择</span><br><span class=\"line\">%s/abc/123  | 替换 -&gt; 将abc 替换成123 % 可以为数字区间1,10</span><br></pre></td></tr></table></div></figure>\n<h3 id=\"top\">top<a href=\"2017/09/11/linux doc#top\"></a></h3><p>动态查看进程</p>\n","prev":{"title":"mysql doc","link":"2017/11/21/mysql doc"},"plink":"http://jccjd.top/2017/09/11/linux doc/","copyright":{"link":"<a href=\"http://jccjd.top/2017/09/11/linux doc/\" title=\"linux doc\">http://jccjd.top/2017/09/11/linux doc/</a>","license":"自由转载-非商用-禁止演绎-保持署名 (<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"external nofollow noopener\" target=\"_blank\">CC BY-NC-ND 4.0</a>)"}}