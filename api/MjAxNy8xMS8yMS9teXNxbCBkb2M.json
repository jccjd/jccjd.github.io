{"title":"mysql doc","date":"2017-11-20T16:00:00.000Z","date_formatted":{"ll":"Nov 21, 2017","L":"11/21/2017","MM-DD":"11-21"},"link":"2017/11/21/mysql doc","tags":["docs","mysql"],"updated":"2020-02-09T08:37:32.000Z","content":"<h4 id=\"mysql--密码修改\">mysql  密码修改<a href=\"#mysql--密码修改\" title=\"mysql  密码修改\"></a></h4><p>在mysql5.6和5.7的密码修改方式发生了很大的变化，5.7是可以直接通过mysql进入数据即库然后通过下面命令<br>直接修改即可</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">UPDATE mysql.user SET plugin&#x3D;&quot;mysql_native_password&quot;, authentication_string&#x3D;PASSWORD(&quot;password&quot;) WHERE user&#x3D;&quot;root&quot;;</span><br></pre></td></tr></table></figure><p>5.6是直接登入不上，要进入mysql的配置文件添加字段 跳过登陆验证，进入数据库在修改密码<br><code>UPDATE user SET Password = &#39;new-password&#39; WHERE User = &#39;root&#39;;</code> 之后注释掉刚才的字段</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">skip-grant-tables</span><br><span class=\"line\"><span class=\"comment\"># Remove leading # and set to the amount of RAM for the most important data</span></span><br><span class=\"line\"><span class=\"comment\"># cache in MySQL. Start at 70% of total RAM for dedicated server, else 10%.</span></span><br><span class=\"line\"><span class=\"comment\"># innodb_buffer_pool_size = 128M</span></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"comment\"># Remove leading # to turn on a very important data integrity option: logging</span></span><br><span class=\"line\"><span class=\"comment\"># changes to the binary log between backups.</span></span><br><span class=\"line\"><span class=\"comment\"># log_bin</span></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"comment\"># Remove leading # to set options mainly useful for reporting servers.</span></span><br><span class=\"line\"><span class=\"comment\"># The server defaults are faster for transactions and fast SELECTs.</span></span><br><span class=\"line\"><span class=\"comment\"># Adjust sizes as needed, experiment to find the optimal values.</span></span><br><span class=\"line\"><span class=\"comment\"># join_buffer_size = 128M</span></span><br><span class=\"line\"><span class=\"comment\"># sort_buffer_size = 2M</span></span><br><span class=\"line\"><span class=\"comment\"># read_rnd_buffer_size = 2M</span></span><br><span class=\"line\">datadir=/var/lib/mysql</span><br><span class=\"line\">socket=/var/lib/mysql/mysql.sock</span><br><span class=\"line\">skip-grant-tables                       &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;------------------</span><br><span class=\"line\"><span class=\"comment\"># Disabling symbolic-links is recommended to prevent assorted security risks</span></span><br><span class=\"line\">symbolic-links=0</span><br></pre></td></tr></table></figure><h4 id=\"启动\">启动<a href=\"#启动\" title=\"启动\"></a></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql -u root -p</span><br></pre></td></tr></table></figure><h4 id=\"查看端口\">查看端口<a href=\"#查看端口\" title=\"查看端口\"></a></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">show global variables like &#39;port&#39;;</span><br></pre></td></tr></table></figure><h4 id=\"版本信息\">版本信息<a href=\"#版本信息\" title=\"版本信息\"></a></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select version();</span><br><span class=\"line\">show databases</span><br><span class=\"line\">show tables</span><br></pre></td></tr></table></figure><h4 id=\"表结构\">表结构<a href=\"#表结构\" title=\"表结构\"></a></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">show columns from 表名;</span><br></pre></td></tr></table></figure><h3 id=\"insert\">insert<a href=\"#insert\" title=\"insert\"></a></h3><p>可以不用填完</p>\n<pre><code>insert into tablename (args1, args2,...) values (value1,value2,...)</code></pre><h3 id=\"linux-使用-navcate\">linux 使用 navcate<a href=\"#linux-使用-navcate\" title=\"linux 使用 navcate\"></a></h3><p>启动Navicat premium：</p>\n<pre><code>./start_navicat</code></pre><p>界面中文乱码问题，进入安装目录后，执行：</p>\n<pre><code>vi  start_navicat\n将export LANG=&quot; &quot;改为\nexport LANG=&quot;zh_CN.UTF-8&quot;</code></pre><p>如果到期的话，可以先调出终端执行</p>\n<pre><code>cd ~\nrm -rf .navicat64\n./start_navicat</code></pre><h4 id=\"默认字符集修改\">默认字符集修改<a href=\"#默认字符集修改\" title=\"默认字符集修改\"></a></h4><p>5.7的配置文件在/etc/mysql/mysql.conf.d/mysqld.cnf下，不要瞎找了    </p>\n<pre><code>[client]\ndefault-character-set=utf8\n[mysqld]\ndefault-storage-engine=INNODB\ncharacter-set-server=utf8\ncollation-server=utf8_general_ci\n\nservice mysql restart\n\nshow variables like &quot;%char%&quot;;</code></pre>","prev":{"title":"linux下配置git","link":"2017/12/07/linux下配置git"},"next":{"title":"linux doc","link":"2017/09/11/linux doc"},"plink":"http://yoursite.com/2017/11/21/mysql doc/","toc":[{"id":"mysql--密码修改","title":"mysql  密码修改","index":"1"},{"id":"启动","title":"启动","index":"2"},{"id":"查看端口","title":"查看端口","index":"3"},{"id":"版本信息","title":"版本信息","index":"4"},{"id":"表结构","title":"表结构","index":"5"}],"copyright":{"link":"<a href=\"http://yoursite.com/2017/11/21/mysql doc/\" title=\"mysql doc\">http://yoursite.com/2017/11/21/mysql doc/</a>","license":"自由转载-非商用-禁止演绎-保持署名 (<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"external nofollow noopener\" target=\"_blank\">CC BY-NC-ND 4.0</a>)"}}