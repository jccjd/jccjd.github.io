{"title":"django doc","date":"2019-06-13T16:00:00.000Z","link":"2019/06/14/django doc","tags":["Django","docs"],"categories":["Django"],"updated":"2019-10-25T07:30:14.360Z","content":"<h4 id=\"常用，命令\">常用，命令<a href=\"2019/06/14/django doc#常用，命令\"></a></h4><pre><code>新建一个项目：\n开启服务器： py manage.py runserver\n新建一个app：py manage.py startapp polls\n数据库迁移：py manage.py migrate\n同步数据库：py manage.py makemigrations polls\n进入交互模式：py manage.py shell\n运行测试：py manage.py test polls</code></pre><h3 id=\"报错\">报错<a href=\"2019/06/14/django doc#报错\"></a></h3><p>1.mysqlclient的版本不支持</p>\n<pre><code>django.core.exceptions.ImproperlyConfigured: mysqlclient 1.3.3 or newer is required; you have 0.7.11 解决方案：    </code></pre><p>解决： 修改django的源码</p>\n<p>liunx下的位置： <code>/usr/local/lib/python3.6/dist-packages/django/db/backends/mysql/base.py</code></p>\n<pre><code>#if version &lt; (1, 3, 3):\n#    raise ImproperlyConfigured(&quot;mysqlclient 1.3.3 or newer is required; you have %s&quot; % Database.__version__)</code></pre><p>编码错误</p>\n<pre><code>File &quot;/usr/local/python3/lib/python3.7/site-packages/django/db/backends/mysql/operations.py&quot;, line 146, in last_executed_query query = query.decode(errors=&apos;replace&apos;)\n\nAttributeError: &apos;str&apos; object has no attribute &apos;decode&apos;    </code></pre><p>2.解决： 依然改源码</p>\n<pre><code>query = query.decode(errors=&apos;replace&apos;) 改为 query = query.encode(errors=&apos;replace&apos;)</code></pre>","prev":{"title":"装饰器","link":"2019/07/25/装饰器"},"next":{"title":"异常检测","link":"2019/02/24/异常检测"},"plink":"http://jccjd.top/2019/06/14/django doc/","reward":true,"copyright":{"link":"<a href=\"http://jccjd.top/2019/06/14/django doc/\" title=\"django doc\">http://jccjd.top/2019/06/14/django doc/</a>","license":"自由转载-非商用-禁止演绎-保持署名 (<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"external nofollow noopener\" target=\"_blank\">CC BY-NC-ND 4.0</a>)"}}