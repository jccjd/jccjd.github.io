{"title":"文件读写","date":"2019-07-08T16:00:00.000Z","link":"2019/07/09/文件读写","tags":["Python"],"updated":"2019-11-01T09:15:00.451Z","content":"<h3 id=\"文件读写\">文件读写<a href=\"2019/07/09/文件读写#文件读写\"></a></h3><figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">f = open(<span class=\"string\">'data.txt'</span>,<span class=\"string\">'a+'</span>)</span><br><span class=\"line\">f.write(<span class=\"string\">'22 \\n'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">f.close()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">with</span> open(<span class=\"string\">'data.txt'</span>, <span class=\"string\">'r'</span>) <span class=\"keyword\">as</span> f:</span><br><span class=\"line\">    data = f.read()</span><br><span class=\"line\">    print(<span class=\"string\">'&#123;&#125;'</span>.format(data))</span><br></pre></td></tr></table></div></figure>\n\n\n<p>open 的两个参数，</p>\n<ul>\n<li>文件位置</li>\n<li>读写权限</li>\n</ul>\n<blockquote>\n<p>读写权限一般有 <code>r</code>,<code>r+</code>,  和 <code>w</code>,<code>w+</code>,<code>a</code>,<code>a+</code><br>r和w都需要对源文件删除， a是追加写入</p>\n</blockquote>\n<p><em>文件打开后需要手动关闭</em></p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">f.close()</span><br></pre></td></tr></table></div></figure>\n\n<div class=\"article-bounded\"><div class=\"article-table\"><table>\n<thead>\n<tr>\n<th>r &amp; r+</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>读取</td>\n</tr>\n</tbody></table></div></div>\n<div class=\"article-bounded\"><div class=\"article-table\"><table>\n<thead>\n<tr>\n<th>w &amp; +</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>复写</td>\n</tr>\n</tbody></table></div></div>\n<h3 id=\"with-语句\">with 语句<a href=\"2019/07/09/文件读写#with-语句\"></a></h3><p>上下文管理器，可以自动打开关闭文件,可以打开多个文件 <code>like that</code></p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">with</span> open(<span class=\"string\">'test1.txt'</span>,<span class=\"string\">'w+'</span>) <span class=\"keyword\">as</span> f1, open(<span class=\"string\">'test2.txt'</span>,<span class=\"string\">'w+'</span>) <span class=\"keyword\">as</span> f2:</span><br><span class=\"line\">      f1.write(<span class=\"string\">'123'</span>)</span><br><span class=\"line\">      f2.write(<span class=\"string\">'456'</span>)</span><br></pre></td></tr></table></div></figure>\n\n<h3 id=\"open函数\">open函数<a href=\"2019/07/09/文件读写#open函数\"></a></h3><p>open函数返回的是一个可迭代对象，可以对文件的每行进行存取</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">f = open(<span class=\"string\">'file.txt'</span>)</span><br><span class=\"line\"><span class=\"keyword\">for</span> line <span class=\"keyword\">in</span> f:</span><br><span class=\"line\">    <span class=\"keyword\">print</span> line</span><br></pre></td></tr></table></div></figure>\n\n","prev":{"title":"线程","link":"2019/07/10/线程"},"next":{"title":"socket","link":"2019/07/09/socket"},"plink":"http://jccjd.top/2019/07/09/文件读写/","copyright":{"link":"<a href=\"http://jccjd.top/2019/07/09/文件读写/\" title=\"文件读写\">http://jccjd.top/2019/07/09/文件读写/</a>","license":"自由转载-非商用-禁止演绎-保持署名 (<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"external nofollow noopener\" target=\"_blank\">CC BY-NC-ND 4.0</a>)"}}