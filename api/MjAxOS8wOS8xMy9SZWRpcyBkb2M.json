{"title":"Redis doc","date":"2019-09-12T16:00:00.000Z","link":"2019/09/13/Redis doc","updated":"2019-10-25T07:46:07.213Z","content":"<h3 id=\"常用命令\">常用命令<a href=\"2019/09/13/Redis doc#常用命令\"></a></h3><p><strong>启动</strong></p>\n<pre><code>run redis : redis-cli redis-server</code></pre><h3 id=\"字符串\">字符串<a href=\"2019/09/13/Redis doc#字符串\"></a></h3><pre><code>set key &quot;this is key&quot;\n\ngetrange key 0 -1\ngetrange key 0 3\nmget\nstrlen\n**getset**\n\n返回给定 key 的旧值。 当 key 没有旧值时，即 key 不存在时，返回 nil 。\n当 key 存在但不是字符串类型时，返回一个错误。\n        getset db test</code></pre><p>Redis可以被告知密钥应该只存在一段时间。这是通过EXPIRE和TTL命令完成的。</p>\n<pre><code>SET resource:lock &quot;Redis Demo&quot;\nEXPIRE resource:lock 120</code></pre><p>这会导致密钥资源：锁定在120秒内被删除。您可以使用TTL命令测试密钥的存在时间。它返回将被删除的秒数。</p>\n<pre><code>TTL resource:lock =&gt; 113\n// after 113s\nTTL resource:lock =&gt; -2</code></pre><p>键的TTL的-2表示该键不再存在（不再）。一个-1的TTL钥匙意味着它永远不会过期。请注意，如果您设置了一个键，它的TTL将被重置。</p>\n<pre><code>SET resource:lock &quot;Redis Demo 1&quot;\nEXPIRE resource:lock 120\nTTL resource:lock =&gt; 119\nSET resource:lock &quot;Redis Demo 2&quot;\nTTL resource:lock =&gt; -1</code></pre><p>##列表<br>    rpush friends ‘bob’<br>    lrange friends 0 -1<br>    LPOP从列表中删除第一个元素并返回它。</p>\n<pre><code>LPOP friends =&gt; &quot;Sam&quot;\nRPOP从列表中删除最后一个元素并将其返回。\nRPOP friends =&gt; &quot;Bob&quot;</code></pre><h2 id=\"集合\">集合<a href=\"2019/09/13/Redis doc#集合\"></a></h2><pre><code>sadd superpowers &quot;flight&quot;\nsadd superpowers &quot;x-ray vision&quot;\nsadd superpowers &quot;reflexrs&quot;\n\ndelete\nsrem superpowers &quot;reflexrs&quot;\n\nfind sismember\nsismember superpowers &apos;flight&apos; # 1\nfind al smembers\nsmembers superpowers #find all\n\n合并 sunion\nsadd birdpower &apos;pecking&apos;\nsadd birdpower &apos;flight&apos;\nsunion superpowers birdpowers\n\n# 排序 1.2时引入\nZADD hackers 1940 &quot;Alan Kay&quot;\nZADD hackers 1906 &quot;Grace Hopper&quot;\nZADD hackers 1953 &quot;Richard Stallman&quot;\nZADD hackers 1965 &quot;Yukihiro Matsumoto&quot;\nZADD hackers 1916 &quot;Claude Shannon&quot;\nZADD hackers 1969 &quot;Linus Torvalds&quot;\nZADD hackers 1957 &quot;Sophie Wilson&quot;\nZADD hackers 1912 &quot;Alan Turing&quot;\nzrange hackers 0 -1</code></pre><h3 id=\"hash\">hash<a href=\"2019/09/13/Redis doc#hash\"></a></h3><pre><code>hset user: 1000 name &quot;john Smith&quot;\nhset user:1000 password &quot;s3cret&quot;\nhset usert:1000 email &quot;john.Smith@example.com&quot;\nhgetall user:1000\nhget user:1000 name</code></pre>","prev":{"title":"use_git_doc","link":"2019/09/18/use_git_doc"},"next":{"title":"再议三次握手","link":"2019/09/13/再议三次握手和四次挥手"},"plink":"http://jccjd.top/2019/09/13/Redis doc/","toc":[{"title":"集合","id":"集合","index":"1","children":[{"title":"hash","id":"hash","index":"1.1"}]}],"reward":true,"copyright":{"link":"<a href=\"http://jccjd.top/2019/09/13/Redis doc/\" title=\"Redis doc\">http://jccjd.top/2019/09/13/Redis doc/</a>","license":"自由转载-非商用-禁止演绎-保持署名 (<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"external nofollow noopener\" target=\"_blank\">CC BY-NC-ND 4.0</a>)"}}